<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Teste de Touch Screen - Tecnico Online</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#1e40af',
                        success: '#10b981',
                        accent: '#8b5cf6',
                        dark: '#0f172a',
                        'dark-light': '#1e293b'
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s ease-in-out',
                        'slide-up': 'slideUp 0.8s ease-out',
                        'float': 'float 3s ease-in-out infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate'
                    }
                }
            }
        }
    </script>
    <style>
        html, body {
            height: 100%;
        }
        body {
            /* Permitir rolagem vertical em dispositivos móveis */
            touch-action: pan-y;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        #touch-area {
            /* Permitir rolagem vertical dentro da área de toque */
            touch-action: pan-y;
        }
        .touch-point {
            position: absolute;
            width: 40px;
            height: 40px;
            margin-left: -20px;
            margin-top: -20px;
            border-radius: 50%;
            background-color: rgba(59, 130, 246, 0.5);
            border: 2px solid rgb(37, 99, 235);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
            pointer-events: none;
        }
        .target-point {
            position: absolute;
            width: 30px;
            height: 30px;
            margin-left: -15px;
            margin-top: -15px;
            border-radius: 50%;
            border: 2px dashed #ef4444;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
        }
        .swipe-area {
            position: relative;
            height: 80px;
            background-color: rgba(59, 130, 246, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        .swipe-indicator {
            position: absolute;
            height: 100%;
            width: 0;
            background-color: rgba(59, 130, 246, 0.3);
            transition: width 0.1s;
        }
        .pinch-area {
            position: relative;
            height: 150px;
            background-color: rgba(59, 130, 246, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .pinch-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 2px dashed #3b82f6;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.1s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes glow {
            from { text-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
            to { text-shadow: 0 0 30px rgba(139, 92, 246, 0.8); }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #1e40af;
        }
    </style>
</head>

    
<body class="bg-gradient-to-br from-dark via-slate-900 to-dark-light text-white min-h-screen">
    <site-header></site-header>

    <main class="relative z-10 max-w-6xl mx-auto px-4 pb-16 mt-5">
        <!-- Device Information -->
        <section class="mb-8 animate-slide-up">
            <div class="bg-gradient-to-br from-dark-light to-slate-800 rounded-2xl p-6 border border-gray-700 backdrop-blur-sm">
                <div class="flex items-center space-x-3 mb-6">
                    <div class="w-12 h-12 bg-gradient-to-br from-primary to-accent rounded-full flex items-center justify-center">
                        <i class="fas fa-info-circle text-xl text-white"></i>
                    </div>
                    <h2 class="text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">Informações do Dispositivo</h2>
                </div>
                <div id="device-info" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600">
                        <p class="text-gray-400 text-sm mb-1">Dispositivo</p>
                        <p id="device-name" class="text-lg font-semibold text-white">Detectando...</p>
                    </div>
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600">
                        <p class="text-gray-400 text-sm mb-1">Navegador</p>
                        <p id="browser-info" class="text-lg font-semibold text-white">Detectando...</p>
                    </div>
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600">
                        <p class="text-gray-400 text-sm mb-1">Suporte a Touch</p>
                        <p id="touch-support" class="text-lg font-semibold">Verificando...</p>
                    </div>
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600">
                        <p class="text-gray-400 text-sm mb-1">Suporte a Multi-touch</p>
                        <p id="multitouch-support" class="text-lg font-semibold">Verificando...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Touch Detection Test -->
        <section class="mb-8 animate-slide-up">
            <div class="bg-gradient-to-br from-dark-light to-slate-800 rounded-2xl p-6 border border-gray-700 backdrop-blur-sm">
                <div class="flex items-center space-x-3 mb-6">
                    <div class="w-12 h-12 bg-gradient-to-br from-success to-emerald-400 rounded-full flex items-center justify-center">
                        <i class="fas fa-hand-pointer text-xl text-white"></i>
                    </div>
                    <h2 class="text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">Teste de Detecção de Toque</h2>
                </div>
                <p class="text-gray-400 mb-6">Toque na área abaixo para testar. Suporta múltiplos toques simultâneos.</p>
                
                <div id="touch-area" class="relative bg-gradient-to-br from-gray-800 to-gray-900 border-2 border-primary/30 rounded-xl h-64 mb-6 overflow-hidden">
                    <div class="absolute inset-0 flex items-center justify-center text-gray-400 text-lg">
                        <i class="fas fa-hand-pointer mr-2"></i>
                        Toque aqui para testar
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600 text-center">
                        <h3 class="text-gray-400 text-sm mb-2">Toques Detectados</h3>
                        <div id="touch-count" class="text-3xl font-bold text-primary">0</div>
                    </div>
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600">
                        <h3 class="text-gray-400 text-sm mb-2">Último Evento</h3>
                        <div id="last-event" class="text-sm font-mono text-gray-300 bg-gray-800 p-2 rounded">Nenhum evento</div>
                    </div>
                </div>
                
                <button id="clear-touches" class="px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-500 hover:to-gray-600 transition-all duration-300 hover:scale-105">
                    <i class="fas fa-eraser mr-2"></i>
                    Limpar
                </button>
            </div>
        </section>

        <!-- Precision Test -->
        <section class="mb-8 animate-slide-up">
            <div class="bg-gradient-to-br from-dark-light to-slate-800 rounded-2xl p-6 border border-gray-700 backdrop-blur-sm">
                <div class="flex items-center space-x-3 mb-6">
                    <div class="w-12 h-12 bg-gradient-to-br from-red-500 to-pink-500 rounded-full flex items-center justify-center">
                        <i class="fas fa-bullseye text-xl text-white"></i>
                    </div>
                    <h2 class="text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">Teste de Precisão</h2>
                </div>
                <p class="text-gray-400 mb-6">Toque nos alvos que aparecem na tela para testar a precisão do seu touch screen.</p>
                
                <div id="precision-area" class="relative bg-gradient-to-br from-gray-800 to-gray-900 border-2 border-red-500/30 rounded-xl h-64 mb-6 overflow-hidden">
                    <div class="absolute inset-0 flex items-center justify-center text-gray-400 text-lg" id="precision-start">
                        <i class="fas fa-play mr-2"></i>
                        Clique para iniciar o teste de precisão
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600 text-center">
                        <h3 class="text-gray-400 text-sm mb-2">Alvos Acertados</h3>
                        <div id="targets-hit" class="text-2xl font-bold text-success">0</div>
                    </div>
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600 text-center">
                        <h3 class="text-gray-400 text-sm mb-2">Total de Alvos</h3>
                        <div id="targets-total" class="text-2xl font-bold text-primary">0</div>
                    </div>
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600 text-center">
                        <h3 class="text-gray-400 text-sm mb-2">Precisão</h3>
                        <div id="precision-percentage" class="text-2xl font-bold text-accent">0%</div>
                    </div>
                </div>
                
                <button id="start-precision" class="px-6 py-3 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-lg hover:from-red-400 hover:to-pink-400 transition-all duration-300 hover:scale-105">
                    <i class="fas fa-play mr-2"></i>
                    Iniciar Teste
                </button>
            </div>
        </section>

        <!-- Swipe Test -->
        <section class="mb-8 animate-slide-up">
            <div class="bg-gradient-to-br from-dark-light to-slate-800 rounded-2xl p-6 border border-gray-700 backdrop-blur-sm">
                <div class="flex items-center space-x-3 mb-6">
                    <div class="w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-400 rounded-full flex items-center justify-center">
                        <i class="fas fa-arrows-alt text-xl text-white"></i>
                    </div>
                    <h2 class="text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">Teste de Deslizar (Swipe)</h2>
                </div>
                <p class="text-gray-400 mb-6">Deslize o dedo nas áreas abaixo para testar os gestos de swipe.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <h3 class="text-lg font-semibold mb-3 text-yellow-400">Swipe Horizontal</h3>
                        <div id="swipe-horizontal" class="swipe-area border border-yellow-500/30 rounded-xl">
                            <div class="swipe-indicator bg-yellow-500/30"></div>
                            <div class="absolute inset-0 flex items-center justify-center text-gray-400">
                                Deslize horizontalmente
                            </div>
                        </div>
                        <p id="horizontal-result" class="text-sm text-gray-400 mt-2">Aguardando gesto...</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-3 text-orange-400">Swipe Vertical</h3>
                        <div id="swipe-vertical" class="swipe-area border border-orange-500/30 rounded-xl">
                            <div class="swipe-indicator bg-orange-500/30"></div>
                            <div class="absolute inset-0 flex items-center justify-center text-gray-400">
                                Deslize verticalmente
                            </div>
                        </div>
                        <p id="vertical-result" class="text-sm text-gray-400 mt-2">Aguardando gesto...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pinch Test -->
        <section class="mb-8 animate-slide-up">
            <div class="bg-gradient-to-br from-dark-light to-slate-800 rounded-2xl p-6 border border-gray-700 backdrop-blur-sm">
                <div class="flex items-center space-x-3 mb-6">
                    <div class="w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-400 rounded-full flex items-center justify-center">
                        <i class="fas fa-expand-arrows-alt text-xl text-white"></i>
                    </div>
                    <h2 class="text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">Teste de Pinça (Pinch/Zoom)</h2>
                </div>
                <p class="text-gray-400 mb-6">Use dois dedos para fazer gestos de pinça (zoom in/out).</p>
                
                <div id="pinch-area" class="pinch-area border border-cyan-500/30 rounded-xl mb-6">
                    <div id="pinch-circle" class="pinch-circle border-cyan-500">
                        <span class="text-gray-400">Pinça aqui</span>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600 text-center">
                        <h3 class="text-gray-400 text-sm mb-2">Escala Atual</h3>
                        <div id="pinch-scale" class="text-2xl font-bold text-cyan-400">1.0x</div>
                    </div>
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600 text-center">
                        <h3 class="text-gray-400 text-sm mb-2">Status</h3>
                        <div id="pinch-status" class="text-lg font-semibold text-gray-300">Aguardando gesto...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gesture Test -->
        <section class="mb-8 animate-slide-up">
            <div class="bg-gradient-to-br from-dark-light to-slate-800 rounded-2xl p-6 border border-gray-700 backdrop-blur-sm">
                <div class="flex items-center space-x-3 mb-6">
                    <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center">
                        <i class="fas fa-hand-paper text-xl text-white"></i>
                    </div>
                    <h2 class="text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">Teste de Gestos Avançados</h2>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <!-- Rotation Test -->
                    <div>
                        <h3 class="text-lg font-semibold mb-3 text-purple-400">Rotação</h3>
                        <div id="rotation-area" class="pinch-area border border-purple-500/30 rounded-xl" data-current-rotation="0">
                            <div id="rotation-element" class="w-16 h-16 bg-purple-500 rounded-lg flex items-center justify-center text-white font-bold">
                                R
                            </div>
                        </div>
                        <p id="rotation-value" class="text-center text-purple-400 mt-2">0°</p>
                    </div>
                    
                    <!-- Double Tap Test -->
                    <div>
                        <h3 class="text-lg font-semibold mb-3 text-pink-400">Toque Duplo</h3>
                        <div id="doubletap-area" class="pinch-area border border-pink-500/30 rounded-xl cursor-pointer">
                            <div id="doubletap-text" class="text-gray-400">Toque duplo aqui</div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-600">
                    <h3 class="text-lg font-semibold mb-3 text-white">Resultado dos Gestos</h3>
                    <div id="gesture-results" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="text-center">
                            <div id="swipe-result" class="w-8 h-8 rounded-full bg-gray-600 mx-auto mb-2"></div>
                            <span class="text-sm text-gray-400">Swipe</span>
                        </div>
                        <div class="text-center">
                            <div id="pinch-result" class="w-8 h-8 rounded-full bg-gray-600 mx-auto mb-2"></div>
                            <span class="text-sm text-gray-400">Pinch</span>
                        </div>
                        <div class="text-center">
                            <div id="rotate-result" class="w-8 h-8 rounded-full bg-gray-600 mx-auto mb-2"></div>
                            <span class="text-sm text-gray-400">Rotação</span>
                        </div>
                        <div class="text-center">
                            <div id="doubletap-result" class="w-8 h-8 rounded-full bg-gray-600 mx-auto mb-2"></div>
                            <span class="text-sm text-gray-400">Duplo Toque</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <site-footer></site-footer>

    <script>
        // Variáveis globais
        let touchCount = 0;
        let targetsHit = 0;
        let targetsTotal = 0;
        let precisionTestActive = false;
        let gesturesDetected = {
            swipe: false,
            pinch: false,
            rotate: false,
            doubleTap: false
        };
        let lastTap = 0;

        // Elementos DOM
        const touchArea = document.getElementById('touch-area');
        const touchCountElement = document.getElementById('touch-count');
        const lastEventElement = document.getElementById('last-event');
        const clearButton = document.getElementById('clear-touches');
        const precisionArea = document.getElementById('precision-area');
        const precisionStart = document.getElementById('precision-start');
        const startPrecisionButton = document.getElementById('start-precision');
        const targetsHitElement = document.getElementById('targets-hit');
        const targetsTotalElement = document.getElementById('targets-total');
        const precisionPercentageElement = document.getElementById('precision-percentage');
        const swipeHorizontal = document.getElementById('swipe-horizontal');
        const swipeVertical = document.getElementById('swipe-vertical');
        const horizontalResult = document.getElementById('horizontal-result');
        const verticalResult = document.getElementById('vertical-result');
        const pinchArea = document.getElementById('pinch-area');
        const pinchCircle = document.getElementById('pinch-circle');
        const pinchScale = document.getElementById('pinch-scale');
        const pinchStatus = document.getElementById('pinch-status');
        const rotationArea = document.getElementById('rotation-area');
        const rotationElement = document.getElementById('rotation-element');
        const rotationValue = document.getElementById('rotation-value');
        const doubletapArea = document.getElementById('doubletap-area');
        const doubletapText = document.getElementById('doubletap-text');

        // Função para detectar informações do dispositivo
        function detectDeviceInfo() {
            // Detectar dispositivo
            const userAgent = navigator.userAgent;
            let deviceName = 'Desktop';
            
            if (/Android/i.test(userAgent)) {
                deviceName = 'Android';
            } else if (/iPhone|iPad|iPod/i.test(userAgent)) {
                deviceName = 'iOS';
            } else if (/Windows Phone/i.test(userAgent)) {
                deviceName = 'Windows Phone';
            }
            
            document.getElementById('device-name').textContent = deviceName;
            
            // Detectar navegador
            let browserName = 'Desconhecido';
            if (userAgent.indexOf('Chrome') > -1) {
                browserName = 'Chrome';
            } else if (userAgent.indexOf('Firefox') > -1) {
                browserName = 'Firefox';
            } else if (userAgent.indexOf('Safari') > -1) {
                browserName = 'Safari';
            } else if (userAgent.indexOf('Edge') > -1) {
                browserName = 'Edge';
            }
            
            document.getElementById('browser-info').textContent = browserName;
            
            // Verificar suporte a touch
            const touchSupport = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
            const touchSupportElement = document.getElementById('touch-support');
            touchSupportElement.textContent = touchSupport ? 'Sim' : 'Não';
            touchSupportElement.className = touchSupport ? 'text-lg font-semibold text-success' : 'text-lg font-semibold text-red-500';
            
            // Verificar suporte a multi-touch
            const multiTouchSupport = navigator.maxTouchPoints > 1;
            const multiTouchSupportElement = document.getElementById('multitouch-support');
            multiTouchSupportElement.textContent = multiTouchSupport ? `Sim (${navigator.maxTouchPoints} pontos)` : 'Não';
            multiTouchSupportElement.className = multiTouchSupport ? 'text-lg font-semibold text-success' : 'text-lg font-semibold text-red-500';
        }

        // Função para criar ponto de toque
        function createTouchPoint(x, y, id) {
            const point = document.createElement('div');
            point.className = 'touch-point';
            point.style.left = x + 'px';
            point.style.top = y + 'px';
            point.textContent = id;
            point.id = 'touch-' + id;
            return point;
        }

        // Função para atualizar último evento
        function updateLastEvent(eventType, details) {
            lastEventElement.textContent = `${eventType}: ${details}`;
        }

        // Função para criar alvo de precisão
        function createTarget() {
            const target = document.createElement('div');
            target.className = 'target-point';
            
            const rect = precisionArea.getBoundingClientRect();
            const x = Math.random() * (rect.width - 30) + 15;
            const y = Math.random() * (rect.height - 30) + 15;
            
            target.style.left = x + 'px';
            target.style.top = y + 'px';
            target.onclick = function() {
                targetsHit++;
                targetsHitElement.textContent = targetsHit;
                updatePrecisionPercentage();
                target.remove();
                
                if (targetsTotal < 10) {
                    setTimeout(createTarget, 500);
                } else {
                    endPrecisionTest();
                }
            };
            
            precisionArea.appendChild(target);
            targetsTotal++;
            targetsTotalElement.textContent = targetsTotal;
            
            // Remover alvo após 3 segundos se não for clicado
            setTimeout(() => {
                if (target.parentNode) {
                    target.remove();
                    if (targetsTotal < 10) {
                        setTimeout(createTarget, 500);
                    } else {
                        endPrecisionTest();
                    }
                }
            }, 3000);
        }

        // Função para atualizar porcentagem de precisão
        function updatePrecisionPercentage() {
            const percentage = targetsTotal > 0 ? Math.round((targetsHit / targetsTotal) * 100) : 0;
            precisionPercentageElement.textContent = percentage + '%';
        }

        // Função para iniciar teste de precisão
        function startPrecisionTest() {
            precisionTestActive = true;
            targetsHit = 0;
            targetsTotal = 0;
            targetsHitElement.textContent = '0';
            targetsTotalElement.textContent = '0';
            precisionPercentageElement.textContent = '0%';
            precisionStart.style.display = 'none';
            startPrecisionButton.disabled = true;
            startPrecisionButton.textContent = 'Teste em andamento...';
            
            createTarget();
        }

        // Função para finalizar teste de precisão
        function endPrecisionTest() {
            precisionTestActive = false;
            precisionStart.style.display = 'flex';
            precisionStart.innerHTML = '<i class="fas fa-check mr-2"></i>Teste concluído! Clique para reiniciar';
            startPrecisionButton.disabled = false;
            startPrecisionButton.innerHTML = '<i class="fas fa-redo mr-2"></i>Reiniciar Teste';
        }

        // Função para atualizar resultado dos gestos
        function updateGestureResult() {
            Object.keys(gesturesDetected).forEach(gesture => {
                const element = document.getElementById(gesture.replace(/([A-Z])/g, '-$1').toLowerCase() + '-result');
                if (element) {
                    element.className = gesturesDetected[gesture] ? 
                        'w-8 h-8 rounded-full bg-success mx-auto mb-2' : 
                        'w-8 h-8 rounded-full bg-gray-600 mx-auto mb-2';
                }
            });
        }

        // Event Listeners para área de toque
        touchArea.addEventListener('touchstart', function(e) {
            touchCount = e.touches.length;
            touchCountElement.textContent = touchCount;
            
            // Limpar pontos existentes
            const existingPoints = touchArea.querySelectorAll('.touch-point');
            existingPoints.forEach(point => point.remove());
            
            // Criar novos pontos
            const rect = touchArea.getBoundingClientRect();
            for (let i = 0; i < e.touches.length; i++) {
                const touch = e.touches[i];
                const x = touch.clientX - rect.left;
                const y = touch.clientY - rect.top;
                const point = createTouchPoint(x, y, i + 1);
                touchArea.appendChild(point);
            }
            
            updateLastEvent('touchstart', `${e.touches.length} toque(s)`);
        });

        touchArea.addEventListener('touchmove', function(e) {
            
            // Atualizar posições dos pontos
            const rect = touchArea.getBoundingClientRect();
            for (let i = 0; i < e.touches.length; i++) {
                const touch = e.touches[i];
                const point = document.getElementById('touch-' + (i + 1));
                if (point) {
                    const x = touch.clientX - rect.left;
                    const y = touch.clientY - rect.top;
                    point.style.left = x + 'px';
                    point.style.top = y + 'px';
                }
            }
            
            updateLastEvent('touchmove', `${e.touches.length} toque(s) movendo`);
        });

        touchArea.addEventListener('touchend', function(e) {
            touchCount = e.touches.length;
            touchCountElement.textContent = touchCount;
            
            updateLastEvent('touchend', `${e.changedTouches.length} toque(s) finalizado(s)`);
            
            if (touchCount === 0) {
                setTimeout(() => {
                    const points = touchArea.querySelectorAll('.touch-point');
                    points.forEach(point => point.remove());
                }, 1000);
            }
        });

        // Event Listener para limpar toques
        clearButton.addEventListener('click', function() {
            const points = touchArea.querySelectorAll('.touch-point');
            points.forEach(point => point.remove());
            touchCount = 0;
            touchCountElement.textContent = '0';
            lastEventElement.textContent = 'Nenhum evento';
        });

        // Event Listener para iniciar teste de precisão
        startPrecisionButton.addEventListener('click', startPrecisionTest);

        // Event Listeners para teste de swipe
        let swipeStartX, swipeStartY;

        swipeHorizontal.addEventListener('touchstart', function(e) {
            e.preventDefault();
            swipeStartX = e.touches[0].clientX;
            horizontalResult.textContent = 'Deslizando...';
        });

        swipeHorizontal.addEventListener('touchmove', function(e) {
            e.preventDefault();
            const currentX = e.touches[0].clientX;
            const diff = currentX - swipeStartX;
            const indicator = swipeHorizontal.querySelector('.swipe-indicator');
            
            if (diff > 0) {
                indicator.style.width = Math.min(diff, swipeHorizontal.offsetWidth) + 'px';
            }
        });

        swipeHorizontal.addEventListener('touchend', function(e) {
            e.preventDefault();
            const endX = e.changedTouches[0].clientX;
            const diff = endX - swipeStartX;
            
            if (Math.abs(diff) > 50) {
                const direction = diff > 0 ? 'direita' : 'esquerda';
                horizontalResult.textContent = `Swipe para ${direction} detectado!`;
                horizontalResult.className = 'text-sm text-success mt-2';
                gesturesDetected.swipe = true;
                updateGestureResult();
            } else {
                horizontalResult.textContent = 'Swipe muito curto';
                horizontalResult.className = 'text-sm text-red-500 mt-2';
            }
            
            // Resetar indicador
            setTimeout(() => {
                swipeHorizontal.querySelector('.swipe-indicator').style.width = '0';
            }, 1000);
        });

        swipeVertical.addEventListener('touchstart', function(e) {
            e.preventDefault();
            swipeStartY = e.touches[0].clientY;
            verticalResult.textContent = 'Deslizando...';
        });

        swipeVertical.addEventListener('touchmove', function(e) {
            e.preventDefault();
            const currentY = e.touches[0].clientY;
            const diff = currentY - swipeStartY;
            const indicator = swipeVertical.querySelector('.swipe-indicator');
            
            if (diff > 0) {
                indicator.style.width = Math.min(diff, swipeVertical.offsetWidth) + 'px';
            }
        });

        swipeVertical.addEventListener('touchend', function(e) {
            e.preventDefault();
            const endY = e.changedTouches[0].clientY;
            const diff = endY - swipeStartY;
            
            if (Math.abs(diff) > 50) {
                const direction = diff > 0 ? 'baixo' : 'cima';
                verticalResult.textContent = `Swipe para ${direction} detectado!`;
                verticalResult.className = 'text-sm text-success mt-2';
                gesturesDetected.swipe = true;
                updateGestureResult();
            } else {
                verticalResult.textContent = 'Swipe muito curto';
                verticalResult.className = 'text-sm text-red-500 mt-2';
            }
            
            // Resetar indicador
            setTimeout(() => {
                swipeVertical.querySelector('.swipe-indicator').style.width = '0';
            }, 1000);
        });

        // Event Listeners para teste de pinch
        let initialDistance = 0;
        let initialScale = 1;

        pinchArea.addEventListener('touchstart', function(e) {
            e.preventDefault();
            if (e.touches.length === 2) {
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                initialDistance = Math.sqrt(
                    Math.pow(touch2.clientX - touch1.clientX, 2) +
                    Math.pow(touch2.clientY - touch1.clientY, 2)
                );
                pinchStatus.textContent = 'Pinçando...';
            }
        });

        pinchArea.addEventListener('touchmove', function(e) {
            e.preventDefault();
            if (e.touches.length === 2 && initialDistance > 0) {
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                const currentDistance = Math.sqrt(
                    Math.pow(touch2.clientX - touch1.clientX, 2) +
                    Math.pow(touch2.clientY - touch1.clientY, 2)
                );
                
                const scale = currentDistance / initialDistance;
                const newScale = initialScale * scale;
                
                pinchCircle.style.transform = `scale(${newScale})`;
                pinchScale.textContent = newScale.toFixed(1) + 'x';
                
                if (Math.abs(scale - 1) > 0.2) {
                    gesturesDetected.pinch = true;
                    updateGestureResult();
                }
            }
        });

        pinchArea.addEventListener('touchend', function(e) {
            e.preventDefault();
            if (e.touches.length < 2) {
                pinchStatus.textContent = 'Gesto finalizado';
                initialDistance = 0;
                
                // Resetar escala após um tempo
                setTimeout(() => {
                    pinchCircle.style.transform = 'scale(1)';
                    pinchScale.textContent = '1.0x';
                    pinchStatus.textContent = 'Aguardando gesto...';
                    initialScale = 1;
                }, 2000);
            }
        });

        // Event Listeners para teste de rotação
        let initialRotation = 0;

        rotationArea.addEventListener('touchstart', function(e) {
            e.preventDefault();
            if (e.touches.length === 2) {
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                initialRotation = Math.atan2(
                    touch2.clientY - touch1.clientY,
                    touch2.clientX - touch1.clientX
                ) * 180 / Math.PI;
            }
        });

        rotationArea.addEventListener('touchmove', function(e) {
            e.preventDefault();
            if (e.touches.length === 2 && initialRotation !== 0) {
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                const currentRotation = Math.atan2(
                    touch2.clientY - touch1.clientY,
                    touch2.clientX - touch1.clientX
                ) * 180 / Math.PI;
                
                let rotationDiff = currentRotation - initialRotation;
                
                // Aplicar rotação
                const baseRotation = parseInt(rotationArea.dataset.currentRotation || 0);
                const newRotation = baseRotation + rotationDiff;
                rotationElement.style.transform = `rotate(${newRotation}deg)`;
                rotationValue.textContent = Math.round(newRotation) + '°';
                
                // Marcar gesto como detectado
                if (Math.abs(rotationDiff) > 30) {
                    gesturesDetected.rotate = true;
                    updateGestureResult();
                }
            }
        });

        // Event Listeners para o teste de toque duplo
        doubletapArea.addEventListener('touchstart', function(e) {
            e.preventDefault();
            
            const now = new Date().getTime();
            const timeSince = now - lastTap;
            
            if (timeSince < 300 && timeSince > 0) {
                // Toque duplo detectado
                doubletapText.textContent = 'Toque duplo detectado!';
                doubletapArea.style.backgroundColor = 'rgba(59, 130, 246, 0.2)';
                
                gesturesDetected.doubleTap = true;
                updateGestureResult();
                
                // Resetar após um tempo
                setTimeout(() => {
                    doubletapText.textContent = 'Toque duplo aqui';
                    doubletapArea.style.backgroundColor = '';
                }, 1000);
            }
            
            lastTap = now;
        });

        // Inicialização
        window.addEventListener('load', function() {
            detectDeviceInfo();
        });
    </script>
    <script src="js/components.js"></script>
</body>
</html>